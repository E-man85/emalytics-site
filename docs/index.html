<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Emalytics provides data analysis, process automation and interactive dashboards tailored to your business needs.">
  <meta name="keywords" content="data analysis, automation, Power BI, dashboards, Emalytics, analytics consultant, process optimization">
  <meta name="author" content="Emalytics">
  <link rel="alternate" type="application/ld+json" href="https://emalytics.pt/case-studies-sitemap.json">
  <title>Emalytics - Data Analytics & Automation</title>
  <link rel="stylesheet" href="css/style.min.css">

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-HF0R24D4MJ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-HF0R24D4MJ');
  </script>
</head>
<body>

  <!-- Navigation -->
<nav class="navbar">
  <div class="nav-container">
    <a href="https://emalytics.pt/">
      <img src="images/logo_w.png" alt="Emalytics Logo" class="nav-logo">
    </a>
    <!-- BotÃ£o hamburger -->
    <div class="menu-toggle" id="menu-toggle">&#9776;</div>

    <!-- Links -->
    <ul class="nav-links" id="nav-links">
      <li><a href="#about">About</a></li>
      <li><a href="#services">Services</a></li>
      <li><a href="#cases">Cases</a></li>
      <li><a href="#contact">Contact</a></li>
      <li><a href="login.html">Customers</a></li>
    </ul>
  </div>
</nav>


  <!-- Header -->
  <header id="home">
    <h1 class="visually-hidden">Emalytics</h1>
    <p id="dynamic-text">Turning data into insights.</p>
  </header>

  <!-- About -->
  <section id="about">
    <h2>About</h2>
    <p>
      Emalytics is a data analytics and automation partner focused on helping businesses and individuals transform information into actionable insights. 
      We specialize in analyzing, processing, and automating workflows tailored to specific needs.
    </p>
  </section>

  <!-- Services -->
  <section id="services">
    <h2>Services</h2>
    <div class="services">
      <div class="card">
        <h3>Data Analysis</h3>
        <p>Transforming raw data into meaningful insights to support better decision-making.</p>
      </div>
      <div class="card">
        <h3>Process Automation</h3>
        <p>Automating repetitive tasks to save time, reduce errors, and increase efficiency.</p>
      </div>
      <div class="card">
        <h3>Reports & Dashboards</h3>
        <p>Designing interactive reports and dashboards using Power BI and other tools.</p>
      </div>
    </div>
  </section>

<!-- Cases -->
<section id="cases">
  <h2>Case Studies</h2>
  <div class="services">

    <div class="card">
      <h3>Power BI Dashboard</h3>
      <p>Interactive report showcasing data-driven insights and visual storytelling.</p>
      <a href="case-powerbi.html" class="case-link">View case</a>
    </div>

    <div class="card">
      <h3>Process Automation</h3>
      <p>Automation project improving efficiency and reducing manual work in reporting pipelines.</p>
      <a href="case-automation.html" class="case-link">View case</a>
    </div>

    <div class="card">
      <h3>Website Analytics</h3>
      <p>Real-time monitoring of website traffic and user interactions through Looker Studio.</p>
      <a href="case-analytics.html" class="case-link">View case</a>
    </div>

    <!-- ðŸ”¹ Weather Forecast App -->
    <div class="card">
      <h3>Weather Forecast App</h3>
      <p>Interactive app using the Open-Meteo API to display current temperature and a 7-day forecast for any selected city.</p>
      <a href="case-weather.html" class="case-link">View case</a>
    </div>
    <!-- ðŸ”¹ POI Finder -->
    <div class="card">
      <h3>POI Finder</h3>
      <p>Full-stack web app built with FastAPI and Leaflet, containerized with Docker. It allows users to explore nearby Points of Interest (schools, pharmacies, restaurants) using OpenStreetMap data.</p>
      <a href="case-poi.html" class="case-link">View case</a>
    </div>

  </div>
</section>


  <!-- Contact -->
  <section id="contact">
    <h2>Contact</h2>
  <p>
    For inquiries or collaborations, reach out at: 
    <a href="mailto:EmanuelGomes@Emanlytics.onmicrosoft.com">
      EmanuelGomes@Emanlytics.onmicrosoft.com
    </a>
  </p>
  <p>
    Connect on 
    <a href="https://www.linkedin.com/in/emanuel-gomes-001b16108" target="_blank" rel="noopener noreferrer">
      LinkedIn
    </a>
      <!-- teste -->
  <!-- Online Users -->
  <section id="online-users">
    <h2>Visitors</h2>
    <p><span id="online-count">0</span> users online</p>
  </section>
  <div style="width: 100%; max-width: 600px; margin: 30px auto;">
    <canvas id="visitorsChart"></canvas>
  </div>
  <!-- teste -->
  </p>
  </section>
  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Emalytics. All rights reserved.</p>
  </footer>
  <!-- === Tracking clicks on "View Case" buttons === -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {

      // Power BI button
      const btnPowerBI = document.querySelector('a[href="case-powerbi.html"]');
      if (btnPowerBI) {
        btnPowerBI.addEventListener('click', () => {
          gtag('event', 'click_powerbi', {
            event_category: 'Case Study',
            event_label: 'Power BI Dashboard'
          });
        });
      }

      // Automation button
      const btnAutomation = document.querySelector('a[href="case-automation.html"]');
      if (btnAutomation) {
        btnAutomation.addEventListener('click', () => {
          gtag('event', 'click_automation', {
            event_category: 'Case Study',
            event_label: 'Process Automation'
          });
        });
      }
    });
  </script>
<!-- teste -->

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const API_URL = "https://api.emalytics.pt";  
let sessionId = null;

// 1ï¸âƒ£ Create new session
async function createSession() {
  try {
    const res = await fetch(`${API_URL}/session`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({})
    });
    const data = await res.json();
    sessionId = data.sessionId;
  } catch (err) {
    console.error("Error creating session:", err);
  }
}

// 2ï¸âƒ£ Deactivate session
async function deactivateSession() {
  if (!sessionId) return;
  try {
    await fetch(`${API_URL}/session/inactive`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ sessionId })
    });
  } catch (err) {
    console.error("Error deactivating session:", err);
  }
}

// 3ï¸âƒ£ Update online counter
async function updateOnlineCount() {
  try {
    const res = await fetch(`${API_URL}/online-count`);
    const data = await res.json();
    document.getElementById("online-count").textContent = data.online;
  } catch (err) {
    console.error("Error getting online count:", err);
  }
}

// 4ï¸âƒ£ Load hourly visit data
async function loadVisitsData() {
  try {
    const res = await fetch(`${API_URL}/visits`);
    const visits = await res.json();

    // Count sessions started per hour
    const hours = Array.from({ length: 24 }, (_, i) => i);
    const counts = hours.map(h => {
      return visits.filter(v => new Date(v.startTime).getHours() === h).length;
    });

    updateChart(hours, counts);
  } catch (err) {
    console.error("Error loading visit data:", err);
  }
}

// 5ï¸âƒ£ Setup Chart.js
const ctx = document.getElementById("visitorsChart").getContext("2d");
const visitorsChart = new Chart(ctx, {
  type: "bar",
  data: {
    labels: Array.from({ length: 24 }, (_, i) => `${String(i).padStart(2, '0')}:00`),
    datasets: [{
      label: "Visits per hour",
      data: Array(24).fill(0),
      backgroundColor: "#38bdf8"
    }]
  },
  options: {
    responsive: true,
    plugins: {
      legend: { display: false },
      title: {
        display: true,
        text: "Visits registered by hour",
        color: "#1e293b"
      }
    },
    scales: {
      x: { ticks: { color: "#1e293b" } },
      y: { ticks: { color: "#1e293b", precision: 0 }, beginAtZero: true }
    }
  }
});

// 6ï¸âƒ£ Update chart data
function updateChart(hours, counts) {
  visitorsChart.data.datasets[0].data = counts;
  visitorsChart.update();
}

// 7ï¸âƒ£ Init and refresh every 60s
createSession();
updateOnlineCount();
loadVisitsData();
setInterval(() => {
  updateOnlineCount();
  loadVisitsData();
}, 60000); // refresh every minute
window.addEventListener("beforeunload", deactivateSession);
</script>


<!-- teste -->
</body>
<script src="js/script.js" defer></script>
</html>
